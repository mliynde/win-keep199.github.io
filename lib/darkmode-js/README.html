<h1>Darkmode.js</h1><p><a href="https://npmjs.com/package/darkmode-js" target="_blank" rel="noopener"><img src="/images/lazy.gif" data-original="https://img.shields.io/npm/v/darkmode-js/latest.svg" alt="npm version"></a><br><a href="https://npmjs.com/package/darkmode-js" target="_blank" rel="noopener"><img src="/images/lazy.gif" data-original="https://img.shields.io/npm/dt/darkmode-js.svg" alt="npm downloads"></a><br><a href="./LICENSE"><img src="/images/lazy.gif" data-original="https://img.shields.io/npm/l/darkmode-js.svg" alt="License"></a><br><a href="https://medium.com/@sandoche" target="_blank" rel="noopener"><img src="/images/lazy.gif" data-original="https://badgen.net/badge/icon/medium?icon=medium&amp;label" alt="Medium Badge"></a><br><a href="https://twitter.com/sandochee" target="_blank" rel="noopener"><img src="/images/lazy.gif" data-original="https://img.shields.io/twitter/follow/sandochee.svg?style=social" alt="Twitter: sandochee"></a></p><p>🌓 Add a Dark Mode / Night Mode to your website in a few seconds</p><p>This library uses the CSS <code>mix-blend-mode</code> to bring Dark Mode to any of your websites.<br>Just copy-paste the snippet and you will get a widget to turn on and off the Dark Mode. You can also use it without the widget programmatically. The plugin is lightweight, built-in Vanilla.<br>It also uses local storage by default, so your last setting will be remembered!</p><p>I have been inspired by this article: <a href="https://dev.wgao19.cc/2019-05-04__sun-moon-blending-mode/" target="_blank" rel="noopener">https://dev.wgao19.cc/2019-05-04__sun-moon-blending-mode/</a></p><h2 id="Features">Features<a class="header-anchor" href="#Features">¶</a></h2><ul><li>Widget appears automatically</li><li>Saving users choice</li><li>Automatically shows Darkmode if the OS preferred theme is dark (if the browsers support <code>prefers-color-scheme</code>)</li><li>Can be used programmatically without widget</li></ul><h2 id="✨-Demo">✨ Demo<a class="header-anchor" href="#✨-Demo">¶</a></h2><p>Check out the demo in these websites:</p><ul><li><a href="https://darkmodejs.learn.uno" target="_blank" rel="noopener">https://darkmodejs.learn.uno</a></li><li><a href="https://tradivegan.com" target="_blank" rel="noopener">https://tradivegan.com</a> (with custom label)</li><li><a href="https://what.toeat.in" target="_blank" rel="noopener">https://what.toeat.in</a> (with custom label)</li><li><a href="https://www.kanbanote.com" target="_blank" rel="noopener">https://www.kanbanote.com</a> (without the widget, once logged in)</li><li><a href="https://www.sandoche.com" target="_blank" rel="noopener">https://www.sandoche.com</a> (with custom label)</li><li><a href="https://pilab.dev" target="_blank" rel="noopener">https://pilab.dev</a> (without the widget, with a custom toggle button)</li></ul><h2 id="Wordpress-plugins">Wordpress plugins<a class="header-anchor" href="#Wordpress-plugins">¶</a></h2><p>If you are using Wordpress you may want to have a look at these plugins based on Darkmode.js:</p><ul><li><a href="https://wordpress.org/plugins/blackout-darkmode-widget/" target="_blank" rel="noopener">https://wordpress.org/plugins/blackout-darkmode-widget/</a></li><li><a href="https://wordpress.org/plugins/darkmode/" target="_blank" rel="noopener">https://wordpress.org/plugins/darkmode/</a></li></ul><h2 id="Nuxt-js-module">Nuxt.js module<a class="header-anchor" href="#Nuxt-js-module">¶</a></h2><p>If you are using Nuxt.js there is a module for Darkmode.js:</p><ul><li><a href="https://github.com/sandoche/nuxtjs-darkmode-js-module" target="_blank" rel="noopener">https://github.com/sandoche/nuxtjs-darkmode-js-module</a></li></ul><h2 id="📖-How-to-use">📖 How to use<a class="header-anchor" href="#📖-How-to-use">¶</a></h2><p>Darkmode.js is very easy to use, just copy-paste the following code or use the npm package.</p><h3 id="🚀-Easy-way-using-the-JSDelivr-CDN">🚀 Easy way (using the JSDelivr CDN)<a class="header-anchor" href="#🚀-Easy-way-using-the-JSDelivr-CDN">¶</a></h3><p>Just add this code to your HTML page:</p><pre><code class="language-html">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  function addDarkmodeWidget() {
    new Darkmode().showWidget();
  }
  window.addEventListener('load', addDarkmodeWidget);
&lt;/script&gt;
</code></pre><h3 id="📦-Using-NPM">📦 Using NPM<a class="header-anchor" href="#📦-Using-NPM">¶</a></h3><pre><code class="language-sh">npm install darkmode-js
</code></pre><p>Then add the following JavaScript code:</p><pre><code class="language-javascript">import Darkmode from 'darkmode-js';

new Darkmode().showWidget();
</code></pre><h2 id="⚙️-Options">⚙️ Options<a class="header-anchor" href="#⚙️-Options">¶</a></h2><p>Here are the option availables:</p><pre><code class="language-javascript">const options = {
  bottom: '64px', // default: '32px'
  right: 'unset', // default: '32px'
  left: '32px', // default: 'unset'
  time: '0.5s', // default: '0.3s'
  mixColor: '#fff', // default: '#fff'
  backgroundColor: '#fff',  // default: '#fff'
  buttonColorDark: '#100f2c',  // default: '#100f2c'
  buttonColorLight: '#fff', // default: '#fff'
  saveInCookies: false, // default: true,
  label: '🌓', // default: ''
  autoMatchOsTheme: true // default: true
}

const darkmode = new Darkmode(options);
darkmode.showWidget();
</code></pre><h2 id="▶️-Methods">▶️ Methods<a class="header-anchor" href="#▶️-Methods">¶</a></h2><p>If you don’t want to show the widget and enable/disable Darkmode programatically you can use the method <code>toggle()</code>. You can also check if the Dark Mode is activated with the method <code>isActivated()</code>. See them in action in the following example:</p><pre><code class="language-javascript">const darkmode =  new Darkmode();
darkmode.toggle();
console.log(darkmode.isActivated()) // will return true
</code></pre><h2 id="Override-style">Override style<a class="header-anchor" href="#Override-style">¶</a></h2><ul><li>A CSS class <code>darkmode--activated</code> is added to the body tag when the darkmode is activated. You can take advantage of it to override the style and have a custom style</li><li>Use the class <code>darkmode-ignore</code> where you don’t want to apply darkmode</li><li>You can also add this style: <code>isolation: isolate;</code> in your CSS, this will also ignore the darkmode.</li><li>It is also possible to revert the Dark Mode with this style <code>mix-blend-mode: difference;</code></li></ul><h3 id="Examples">Examples<a class="header-anchor" href="#Examples">¶</a></h3><pre><code class="language-css">.darkmode--activated p, .darkmode--activated li {
  color: #000;
}

.button {
  isolation: isolate;
}

.darkmode--activated .logo {
  mix-blend-mode: difference;
}
</code></pre><pre><code class="language-html">&lt;span class=&quot;darkmode-ignore&quot;&gt;😬&lt;span&gt;
</code></pre><h2 id="Debug">Debug<a class="header-anchor" href="#Debug">¶</a></h2><p>If it does not work you may have to add the following code, but this will invalidate the classes to override.</p><pre><code class="language-css">.darkmode-layer, .darkmode-toggle {
  z-index: 500;
}
</code></pre><h2 id="Browser-compatibility">Browser compatibility<a class="header-anchor" href="#Browser-compatibility">¶</a></h2><p>This library uses the CSS <code>mix-blend-mode: difference;</code> to provide the Dark Mode.<br>It may not be compatible with all the browsers. Therefore the widget has been hidden in Internet Explorer and Edge.<br>This library also uses <code>prefers-color-scheme: dark</code> to automatically enable the Dark Mode if the OS prefered theme is dark.</p><p>Check the compatibility here:</p><ul><li><a href="https://caniuse.com/#search=mix-blend-mode" target="_blank" rel="noopener">https://caniuse.com/#search=mix-blend-mode</a></li><li><a href="https://caniuse.com/#search=prefers-color-scheme" target="_blank" rel="noopener">https://caniuse.com/#search=prefers-color-scheme</a> (to activate Dark Mode automatically)</li></ul><h2 id="Development">Development<a class="header-anchor" href="#Development">¶</a></h2><ul><li><code>yarn build</code> or <code>npm run build</code> - produces a production version of your library under the <code>lib</code> folder</li><li><code>yarn dev</code> or <code>npm run dev</code> - produces development version of your library and runs a watcher</li><li><code>yarn test</code> or <code>npm run test</code> - it runs the tests :)</li><li><code>yarn test:watch</code> or <code>npm run test:watch</code> - same as above but in a watch mode</li></ul><h2 id="⭐️-Show-your-support">⭐️ Show your support<a class="header-anchor" href="#⭐️-Show-your-support">¶</a></h2><p>Please ⭐️ this repository if this project helped you!</p><p><a href="https://www.patreon.com/sandoche" target="_blank" rel="noopener"><a href="https://www.patreon.com/sandoche" target="_blank" rel="noopener"><img src="/images/lazy.gif" data-original="https://c5.patreon.com/external/logo/become_a_patron_button.png" alt="patreon.png"></a></a></p><h2 id="🍺-Buy-me-a-beer">🍺 Buy me a beer<a class="header-anchor" href="#🍺-Buy-me-a-beer">¶</a></h2><p>If you like this project, feel free to donate:</p><ul><li>PayPal: <a href="https://www.paypal.me/kanbanote" target="_blank" rel="noopener">https://www.paypal.me/kanbanote</a></li><li>Bitcoin: 19JiNZ1LkMaz57tewqJaTg2hQWH4RgW4Yp</li><li>Ethereum: 0xded81fa4624e05339924355fe3504ba9587d5419</li><li>Monero: 43jqzMquW2q989UKSrB2YbeffhmJhbYb2Yxu289bv7pLRh4xVgMKj5yTd52iL6x1dvCYs9ERg5biHYxMjGkpSTs6S2jMyJn</li><li>Motive: MOTIV-25T5-SD65-V7LJ-BBWRD (Get Motive Now: <a href="https://motive.network" target="_blank" rel="noopener">https://motive.network</a>)</li></ul><h2 id="📄-License">📄 License<a class="header-anchor" href="#📄-License">¶</a></h2><p><a href="./LICENSE">MIT License</a></p><p>Copyright © Sandoche Adittane</p>